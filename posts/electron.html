<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="../css/style.css?Thu Aug  1 12:47:18 2019" />
	<link rel="alternate" type="application/rss+xml" title="pennie-quinn.github.io posts" href="../posts.xml" />
	<title>Experimenting with Electron</title>
	
	<script type="text/javascript">
		window.site_root = "..";
	</script>
	
	<script type="text/javascript">
  if (window.location.hostname != "localhost") {
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-127983421-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  }
</script>
</head>

<body class="nice_fonts">
	
<div class="sidebar">
	<a href="../index.html" title="pennie.net">
		<img class="logo" src="../img/devnull.svg" alt="pennie.net" />
	</a>
	
	<p class="center">Pennie's ramblings.</p>
	
	<div class="sidebar_icons">
		<a href="mailto:pennie.ada.quinn@gmail.com"><img src="../img/icon/mail.svg" alt="email" /></a>
		<a href="https://twitter.com/transmutrix"><img src="../img/icon/twitter.svg" alt="twitter" /></a>
		<a href="https://github.com/pennie-quinn"><img src="../img/icon/github.svg" alt="github" /></a>
	</div>
	
	<br>
	
	<p>Recent Posts</p>
	<p><a href='https://pennie-quinn.github.io/posts/hillcipher.html'>The Lester Hill Cipher</a></p>
<p><a href='https://pennie-quinn.github.io/posts/going-full-bananacakes.html'>Going Full Bananacakes</a></p>
<p><a href='https://pennie-quinn.github.io/posts/new-year.html'>New Year New... Uh...</a></p>

</div>
	
<div class="main-column">

<div class="post-header">
	<img class="cover" src="../img/electron.png" alt="Experimenting with Electron" />
	<h1>Experimenting with Electron</h1>
	<div class="post-meta">
		Posted
		<span class: "post-date">Sat, Nov 03, 2018</span>
		by Pennie (<a href="https://twitter.com/transmutrix">@transmutrix</a>)
	</div>
</div>

<div class="inner post-body"><p>I used to hate <a href="https://electronjs.org">Electron</a> on principle. How sluggish! How arcane! Bah! Humbug. Native apps are so much <em>faster</em>. Painstakingly suffering through the bloat, lag, and crashing of QTCreator or Visual Studio or XCode, writing C++ so many layers deep it&rsquo;s as slow as js anyway but <em>also</em> takes ages to compile, then embedding Lua so you can get away from it, now <em>that&rsquo;s</em> the way to write graphical applications!</p>

<p>I'm since less of an ass. After using native GUI frameworks for several languages on several OS&rsquo;s, I hate every single one. Making a Windows Forms application that doesn&rsquo;t look and feel like complete shit is a <em>task</em>, and I found myself relying on Google way too often for things that should be trivial or intuitive, things like the <em>tab order</em> of fields.</p>

<p>The more time I spend programming, the more I ignore community snark and posturing and just use what I <em>like</em>. So! Let&rsquo;s experiment with Electron. My end-goal is to write a desktop app in <a href="http://coffeescript.org">CoffeeScript</a> and <a href="https://sass-lang.com">SASS</a>&mdash;let&rsquo;s see how that goes.</p>

<p><ul><li><a href="#humble-beginnings">Humble Beginnings</a></li>
<li><a href="#first-impressions">First Impressions</a></li>
<li><a href="#what-kind-of-app-should-we-make">What Kind of App Should We Make?</a></li>
<li><a href="#colr">Colr</a></li></ul></p>

<h2 id="humble-beginnings">Humble Beginnings</h2>

<p>So, first off, I grabbed the electron-quick-start repo and made sure that worked:</p>

<pre class="highlight lang_bash"><code><span></span>$ git clone https://github.com/electron/electron-quick-start
$ <span class="nb">cd</span> electron-quick-start
$ npm install
$ npm start</code>
</pre>


<h3>CoffeeScript</h3>

<p>Then, I did this:</p>

<pre class="highlight lang_js"><code><span></span><span class="c1">// main.js</span>
<span class="nx">require</span><span class="p">(</span><span class="s1">&#39;coffeescript/register&#39;</span><span class="p">);</span>
<span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./app&#39;</span><span class="p">);</span></code>
</pre>


<p>And then, I rewrote the original <code>main.js</code> in CoffeeScript:</p>

<pre class="highlight lang_coffeescript"><code><span></span><span class="c1"># app.coffee</span>
<span class="p">{</span><span class="nx">app</span><span class="p">,</span> <span class="nx">BrowserWindow</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span> <span class="s">&#39;electron&#39;</span>

<span class="nv">mainWindow = </span><span class="kc">null</span>

<span class="nv">createWindow = </span><span class="nf">-&gt;</span>
    <span class="nv">mainWindow = </span><span class="k">new</span> <span class="nx">BrowserWindow</span> <span class="p">{</span><span class="nv">width: </span><span class="mi">800</span><span class="p">,</span> <span class="nv">height: </span><span class="mi">600</span><span class="p">}</span>
    <span class="nx">mainWindow</span><span class="p">.</span><span class="nx">loadFile</span> <span class="s">&#39;index.html&#39;</span>
    <span class="nx">mainWindow</span><span class="p">.</span><span class="nx">on</span> <span class="s">&#39;closed&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nf">-&gt;</span> <span class="nv">mainWindow = </span><span class="kc">null</span><span class="p">)</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">on</span> <span class="s">&#39;ready&#39;</span><span class="p">,</span> <span class="nx">createWindow</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">on</span> <span class="s">&#39;window-all-closed&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nf">-&gt;</span> <span class="nx">app</span><span class="p">.</span><span class="nx">quit</span><span class="p">()</span> <span class="k">unless</span> <span class="nx">process</span><span class="p">.</span><span class="nx">platform</span> <span class="o">==</span> <span class="s">&#39;darwin&#39;</span><span class="p">)</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">on</span> <span class="s">&#39;activate&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nf">-&gt;</span> <span class="nx">createWindow</span><span class="p">()</span> <span class="k">unless</span> <span class="nx">mainWindow</span><span class="o">?</span><span class="p">)</span></code>
</pre>


<p>So far, so good! Now, for SASS.<br/>
</p>

<h3>SASS</h3>

<p>I tried a couple node modules to do this automatically, but had trouble getting them working. So, instead, I did this, which is fine:</p>

<pre class="highlight lang_bash"><code><span></span>$ sass --watch style.scss style.css <span class="p">&amp;</span></code>
</pre>


<p>Technically, I <em>could</em> have done this for CoffeeScript as well, but I would rather just load the compiler for now&mdash;I may work something up to precompile for releases, if we get that far along!</p>

<h2 id="first-impressions">First Impressions</h2>

<p>I love being able to hit <strong>Cmd+R</strong> to see my style changes immediately. No waiting 10 minutes for Visual Studio to pull its head out of its ass! Or, as in the case of ASP.NET, no <em>rebooting</em> visual studio. Having never used Node.js at <em>all</em>, really, I have a lot of reading and experimentation to do.</p>

<h2 id="what-kind-of-app-should-we-make">What Kind of App Should We Make?</h2>

<p>It&rsquo;s easiest to learn new tech by working with it. I prefer to have a real project, so I can measure my progress and have clear goals. Also, I would prefer to make something that I will use myself. So what should we make? </p>

<p><strong>Ideas:</strong></p>

<ul>
<li>A color palette manager for pixel artists or designers.</li>
<li>A simplified vector art program for logos, shirts, etc.</li>
<li>A manager for online stores like Shopify, RedBubble, TeePublic, etc.</li>
</ul>


<p>Of these, the palette one seems the most manageable as a first project, so let&rsquo;s try that.</p>

<h2 id="colr">Colr</h2>

<h3>Feature Ideas</h3>

<ul>
<li>Allows you to keep color palettes in an organized way.</li>
<li>Conveniently copy a color in a common format (html, shorthand html, RGB, HSL, CMYK).</li>
<li>Export palettes to Photoshop, Aseprite, etc.</li>
<li>Eyedropper for creating new palettes.</li>
<li>Named colors.</li>
<li>Names + Tags for palettes.</li>
<li>Search by name, tag, or color.</li>
<li>Recent palettes, favorite palettes.</li>
<li>Color theory helper: generate complementary colors, triads, etc.</li>
<li>Drag and drop an image to generate palette &ldquo;ideas&rdquo; from it (quantize in tiles, prioritize hues, organize into ramps).</li>
</ul>


<h3>Getting Started</h3>

<p>First, let&rsquo;s create a clean project.</p>

<pre class="highlight lang_bash"><code><span></span>$ mkdir colr
$ <span class="nb">cd</span> colr
$ npm init
$ npm install --save electron
$ npm install --save coffeescript
$ touch main.js
$ touch app.coffee
$ touch hello.html
$ open -a TextMate .</code>
</pre>


<p>I set up <code>main.js</code>, <code>app.coffee</code>, and <code>hello.html</code> similar to the quick start example. package.json looks like this:</p>

<pre class="highlight lang_json"><code><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;colr&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.0.1&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;a color palette manager&quot;</span><span class="p">,</span>
  <span class="nt">&quot;main&quot;</span><span class="p">:</span> <span class="s2">&quot;main.js&quot;</span><span class="p">,</span>
  <span class="nt">&quot;scripts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;test&quot;</span><span class="p">:</span> <span class="s2">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;electron&quot;</span><span class="p">:</span> <span class="s2">&quot;electron .&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;keywords&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;color&quot;</span><span class="p">,</span>
    <span class="s2">&quot;palette&quot;</span><span class="p">,</span>
    <span class="s2">&quot;design&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pixel&quot;</span><span class="p">,</span>
    <span class="s2">&quot;art&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;Pennie Quinn&quot;</span><span class="p">,</span>
  <span class="nt">&quot;license&quot;</span><span class="p">:</span> <span class="s2">&quot;ISC&quot;</span><span class="p">,</span>
  <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;coffeescript&quot;</span><span class="p">:</span> <span class="s2">&quot;^2.3.2&quot;</span><span class="p">,</span>
    <span class="nt">&quot;electron&quot;</span><span class="p">:</span> <span class="s2">&quot;^3.0.7&quot;</span>
  <span class="p">}</span>
<span class="p">}</span></code>
</pre>


<p>So now I can do <code>$ npm run electron</code> to test my program. But that&rsquo;s a <em>lot</em> of typing. Instead, let&rsquo;s use a special script entry called &ldquo;start&rdquo;:</p>

<pre class="highlight lang_json"><code><span></span>    <span class="s2">&quot;scripts&quot;</span><span class="err">:</span> <span class="p">{</span>
        <span class="nt">&quot;test&quot;</span><span class="p">:</span> <span class="s2">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="p">,</span>
        <span class="nt">&quot;start&quot;</span><span class="p">:</span> <span class="s2">&quot;electron .&quot;</span>
    <span class="p">}</span><span class="err">,</span></code>
</pre>


<p>This allows us to do <code>$ npm start</code> instead. Nice! So, with all that, we get this:</p>

<p><img src="../img/electron/hello.png" alt="hello world screenshot" />
<p class='caption'>Hello, World!</p></p>

<h3>Mockups</h3>

<p>At this point, I unplugged for a bit and got on with other things while I thought about the UX for our app. Then, I sat down and made some fast and loose mockups, on paper.</p>

<h3>Color Picking</h3>

<h3>Creating a Palette</h3>

<h3>Saving Palettes</h3>

<pre class="highlight lang_bash"><code><span></span>npm install --save electron-json-storage</code>
</pre>


<h3>Palette &ldquo;Database&rdquo;</h3>

<h4>Format</h4>

<h4>Reading and Writing</h4>

<h4>Searching</h4>

<h4>Configurable Path (for Sync)</h4>

<h3>Color Formats</h3>

<h3>Drag and Drop</h3>

<h4>Dragging Images In</h4>

<h4>Dragging Colors Out</h4>

<h3>App Integration</h3>

<h4>Photoshop</h4>

<h4>Aseprite</h4>

<h4>Krita</h4>

<h3>Polish</h3>

<h4>Styles</h4>

<h4>Animation</h4>

<h4>Sounds</h4>

<h3>Help File</h3>

<h3>Icon</h3>

<h3>Packaging for OSX</h3>

<pre class="highlight lang_bash"><code><span></span>$ npm install --save electron-builder
$ mkdir build</code>
</pre>


<h3>Submitting to the App Store</h3>
</div>

<div class="comments">
	<div id="disqus_thread"></div>
	<script>
	var disqus_config = function () {
		this.page.url = "../posts/electron.html";
		this.page.identifier = "Experimenting with Electron" + "Sat, Nov 03, 2018";
	};
	(function() { // DON'T EDIT BELOW THIS LINE
		var d = document, s = d.createElement('script');
		s.src = 'https://pennie.disqus.com/embed.js';
		s.setAttribute('data-timestamp', +new Date());
		(d.head || d.body).appendChild(s);
	})();
	</script>
</div></div>

	
	<div class="footer">
		<p>
			Copyright &copy; Pennie Quinn 2018
			&middot;
			Generated on Thu Aug  1 12:47:18 2019
			&middot;
			<a href="../index.html">Home</a>
		</p>
	</div>
	
	<script type="text/javascript">
		//if (navigator.appVersion.indexOf("Win") >= 0) { document.body.className=""; }
	</script>
</body>
</html>